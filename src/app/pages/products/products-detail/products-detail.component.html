<app-sidebar>
  <div class="py-3">
    <div class="flex justify-content-between">
      <p-breadcrumb class="max-w-full" [model]="items"></p-breadcrumb>
    </div>
    <div class="px-3 -mt-2">
      <p-divider></p-divider>
    </div>
  </div>

  <div class="grid mx-3 shadow-2 border-round-sm">
    <div class="col-4">
      <img src="{{product.img}}" alt="" class="w-full" height="300">
    </div>
    <div class="col-8">
      <div class="flex flex-column p-3">
        <div class="mb-2 flex justify-content-between">
          <div class="text-2xl font-bold "> Name : {{ product.productName }}</div>
          <i *ngIf="!product.favorite" class="pi pi-heart cursor-pointer" style="font-size: 1.5rem;" (click)="toggleFav()"></i>
          <i *ngIf="product.favorite" class="pi pi-heart-fill cursor-pointer"
            style="font-size: 1.5rem; color: red;" (click)="toggleFav()"></i>
        </div>
        <div class="text-lg text-gray-600 mb-2">Description : {{ product.description }}</div>
        <div class="text-gray-600">Price : {{ product.price }} บาท</div>
      </div>
      <div class="mx-3">
        <p-divider></p-divider>
      </div>
      <div>
        <div class="flex justify-content-between px-3">
          <div class="text-lg font-bold">Quantity</div>
          <div class="flex">
            <button pButton type="button" icon="pi pi-minus" class="mr-2 p-button-secondary"
              (click)="decreaseQuantity()"></button>
            <input type="number" pInputText [(ngModel)]="quantity" class="w-20 text-center" />
            <button pButton type="button" icon="pi pi-plus" class="ml-2 p-button-secondary"
              (click)="increaseQuantity()"></button>
          </div>
        </div>
        <div class="flex justify-content-between px-3 mt-4">
          <div class="text-lg font-bold">Total</div>
          <div class="text-lg font-bold">{{ product.price * quantity }} บาท</div>
        </div>
        <div class="flex flex-column p-3">
          <p-divider></p-divider>
          <button pButton type="button" label="Add to Cart" class="w-full p-button-secondary"
            (click)="addToCart()"></button>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3 mx-3 p-3 shadow-2 border-round-sm">
    <div class="text-center text-2xl font-bold mb-3">Other Products</div>
    <p-carousel [value]="products" [numVisible]="3" [numScroll]="3" [circular]="false"
      [responsiveOptions]="responsiveOptions">
      <ng-template let-product pTemplate="item">
        <div class="border-1 surface-border border-round m-2 text-center py-5 cursor-pointer"
          (click)="viewDetail(product.id)">
          <div class="mb-3">
            <img src="{{ product.img }}" height="200" width="200" class="w-6 shadow-2" />
          </div>
          <div>
            <h4 class="mb-1">{{ product.productName }}</h4>
            <h6 class="mt-0 mb-3">{{ product.price + ' Baht' }}</h6>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</app-sidebar>