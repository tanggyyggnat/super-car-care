<app-sidebar>

  <div style="height: 10vh;" class="pt-4 p-3">
    <div class="flex justify-content-between">
      <div class="text-4xl font-bold">Reservation Details</div>
    </div>
    <p-divider></p-divider>
  </div>
  <section style="height: 79%;" class="relative flex flex-row gap-0">
    <section style="width: 40vw" class="border-1 border-left-none border-top-none border-bottom-none">
      <div class="flex flex-column gap-3">
        <div style="width: 100%" class="flex flex-column pt-3 justify-content-center align-items-center">
          <div class="w-8 align-content-start p-3 pl-0">
            <h1>Service Details</h1>
          </div>
          <div class="flex flex-column border-1 border-round-lg w-fit gap-0">
            <div class="p-3 pt-2 pb-2  flex flex-row gap-5">
              <div class="w-full"><p>Car check up Service</p></div>
            </div>
            <div class="p-3 pt-2 pb-2 border-top-1 flex flex-row gap-5">
              <div class="w-8rem"><p>23-11-2023</p></div>
              <div class="w-8rem"><p>Time 09:00</p></div>
            </div>
            <div class="p-3 pt-2 pb-2 border-top-1 flex flex-row gap-5">
              <div class="w-8rem"><p>BMW-5</p></div>
              <div class="w-8rem"><p>SSE-2345</p></div>
            </div>
          </div>
        </div>

        <div style="width: 100%" class="flex flex-column pt-3 justify-content-center align-items-center">
          <div class="w-8 align-content-start p-3 pl-0">
            <h1>Payment Details</h1>
          </div>
          <section class="flex flex-column border-1 border-round-lg w-fit gap-0">
            <div class="p-3 pt-2 pb-2  flex flex-row gap-5">
              <div class="w-8rem"><p>Payment Status</p></div>
              <div class="w-8rem"><p>101</p></div>
            </div>
            <div class="p-3 pt-2 pb-2 border-top-1 flex flex-row gap-5">
              <div class="w-8rem"><p>Payment Method</p></div>
              <div class="w-8rem"><p>101</p></div>
            </div>
            <div class="p-3 pt-2 pb-2 border-top-1 flex flex-row gap-5">
              <div class="w-8rem"><p>Payment Date</p></div>
              <div class="w-8rem"><p>101</p></div>
            </div>
            <div class="p-3 pt-2 pb-2 border-top-1 flex flex-row gap-5">
              <div class="w-8rem"><p>Total Due</p></div>
              <div class="w-8rem"><p>101</p></div>
            </div>
          </section>
          <div class="pt-5 w-fit align-content-start p-3 pl-0">
            <div class="cursor-pointer p-2 pl-5 pr-5 border-round-2xl border-1">
              <p class="text-sm">show slip</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section style="height: 100%; width: 60vw" class="p-5 pt-0">
      <div  class="pt-3 w-fit">
        <div [style]="{background: '#4B527E'}" class="pt-3 table-header align-self-center w-full align-content-start">
          <h1 class="text-white h-2rem">Process</h1>
        </div>
        <thead>
          <tr class=" text-center m-0 p-2">
            <th class="w-3rem">Order</th>
            <th class="w-12rem">Process</th>
            <th class="w-9rem">Steps</th>
            <th class="w-8rem">Date</th>
            <th class="w-5rem">Time</th>
            <th class="w-5rem"><i></i> </th>
          </tr>
        </thead>



        <tr class="text-center" *ngFor="let detail of products; let i = index">
          <td >{{ i + 1 }}</td>
          <td >{{ detail.name }}</td>
          <td >{{ detail.steps }}</td>
          <td >{{ detail.date }}</td>
          <td >{{ detail.time }}</td>
          <td ><i (click)="showProcess()" class="cursor-pointer pi pi-cog"></i> </td>
        </tr>
      </div>

    </section>
  </section>

  <div style="width: 100%; height: 10%" class="flex flex-row  border-1 border-bottom-none border-left-none border-right-none">
    <section style="width: 100%" class="flex flex-column justify-content-center align-items-end ">
      <div class="text-center flex flex-row gap-5 pr-5">
        <p-button (click)="showStock()" label="add stock usage" class="p-button-sm"
                  [style]="{ outline: 'none', width: '17vw', background: '#4B527E' }">
        </p-button>


        <p-button (click)="showSubService()" label="sub-service" class="p-button-sm"
                  [style]="{ outline: 'none', width: '17vw', background: '#4B527E' }">
        </p-button>
      </div>
    </section>
  </div>

  <!--//Stock-->
  <p-dialog header="Stock" [(visible)]="stockvisible" [modal]="true" [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false">
    <div *ngFor="let item of washing; let i = index" class="flex flex-row gap-3 pt-2 pr-4">
      <div class="w-full flex flex-row gap-3">
        <p-checkbox [(ngModel)]="stockCheckBox[i]" [binary]="true" inputId="binary" (onChange)="onStockCheckboxChange(i)"></p-checkbox>
        <label class="text-lg">{{ item.name }}</label>
      </div>
      <p-inputNumber [(ngModel)]="value[i]" inputId=""></p-inputNumber>
    </div>
  </p-dialog>

  <!--//SubService-->
  <p-dialog header="Sub-Service" [(visible)]="subservicevisible" [modal]="true" [style]="{ width: '30vw' }" [draggable]="false" [resizable]="false">
    <div *ngFor="let item of washing; let i = index" class="flex flex-row gap-3 pt-3 pr-4">
      <div class="w-full flex flex-row gap-3">
        <p-checkbox [(ngModel)]="subServiceCheckBox[i]" [binary]="true" inputId="binary" (onChange)="onSubServiceCheckboxChange(i)"></p-checkbox>
        <label class="text-lg">{{ item.name }}</label>
      </div>
      <h1 class="subservice_price">{{ item.price }}</h1>
    </div>
  </p-dialog>

  <!--//Process Edit-->
  <p-dialog header="Update Process" [(visible)]="processVisible" [modal]="true" [style]="{ width: '51vw' }" [draggable]="false" [resizable]="false">
    <div class="relative justify-content-center flex flex-row gap-3 pt-6 pr-4">
      <div style="bottom: 10%" class="fixed flex flex-row gap-5">
        <div class="w-auto">
          <label class="text-base pb-2">Steps</label>
          <p-dropdown  [options]="optionsSteps" [(ngModel)]="selectedSteps" optionLabel="steps" ></p-dropdown>
        </div>

        <div class="w-auto">
          <label class="text-base pb-2">Date</label>
          <p-calendar [(ngModel)]="selectedDate"></p-calendar>
        </div>

        <div class="w-auto">
          <label class="text-base pb-2">Time</label>
          <p-calendar [(ngModel)]="selectedTime" [timeOnly]="true"></p-calendar>
        </div>

        <div class="w-auto align-self-end">
          <p-button (click)="processVisible == false" label="save" class="p-button-sm"
                    [style]="{ padding: '4px', outline: 'none',height: '2rem', width: '6vw', background: '#4B527E' }">
          </p-button>
        </div>
      </div>
    </div>
  </p-dialog>
</app-sidebar>
