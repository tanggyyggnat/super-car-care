<app-sidebar>
  <div [formGroup]="formData">
    <div class="shadow-2 border-round-sm p-3 mb-3 p-4">
      <div class="flex justify-content-center text-xl font-bold mt-2 mb-4">
        Customer Information
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>First Name</label>
        </div>
        <div class="col-12">
          <input pInputText readonly class="w-full -mt-2 readonly" formControlName="custName" />
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Last Name</label>
        </div>
        <div class="col-12">
          <input pInputText readonly class="w-full -mt-2 readonly" formControlName="custSurname" />
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Phone</label>
        </div>
        <div class="col-12">
          <input pInputText readonly class="w-full -mt-2 readonly" pKeyFilter="num" maxlength="10"
            formControlName="custPhone" />
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Email</label>
        </div>
        <div class="col-12">
          <input pInputText readonly class="w-full -mt-2 readonly" formControlName="custEmail" />
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Car License</label>
        </div>
        <div class="col-12">
          <input pInputText placeholder="Enter Your Car License" class="w-full -mt-2" formControlName="licensePlate" />
          <span *ngIf="!formData.get('licensePlate')?.valid" class="text-red-500 text-sm mt-2" [hidden]="showValid">
            Please Enter Your Car License!
          </span>
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Car Model</label>
        </div>
        <div class="col-12">
          <input pInputText placeholder="Enter Your Car Model" class="w-full -mt-2" formControlName="carBrand" />
          <span *ngIf="!formData.get('carBrand')?.valid" class="text-red-500 text-sm mt-2" [hidden]="showValid">
            Please Enter Your Car Model!
          </span>
        </div>
      </div>
    </div>

    <div class="shadow-2 border-round-sm p-3 p-4">
      <div class="flex flex-row justify-content-evenly text-xl font-bold mt-2 mb-4">
        Appointment Information
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Service Types</label>
        </div>
        <div class="col-12">
          <p-dropdown [options]="typeService" styleClass="-mt-2 w-full" formControlName="serviceTypeId"
            optionLabel="serviceTypeName" optionValue="id">
          </p-dropdown>
          <span *ngIf="!formData.get('serviceTypeId')?.valid" class="text-red-500 text-sm mt-2" [hidden]="showValid">
            Please Select Type of Service!
          </span>
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Date Appointment</label>
        </div>
        <div class="col-12">
          <p-calendar dateFormat="dd-mm-yy" placeholder="Select Date Appointment" formControlName="appointmentDateTime"
            styleClass="-mt-2 w-full">
          </p-calendar>
          <span *ngIf="!formData.get('appointmentDateTime')?.valid" class="text-red-500 text-sm mt-2" [hidden]="showValid">
            Please Select Date Appointment!
          </span>
        </div>
      </div>

      <ng-container *ngIf="showTimeTable">
        <div class="grid col-8 col-offset-2 -mb-3">
          <div class="col-12">
            <label>Time Appointment</label>
          </div>
          <div class="col-12">
            <p-dropdown [options]="timeService" styleClass="-mt-2 w-full" formControlName="appointmentDateId"
              optionLabel="value" optionValue="id">
            </p-dropdown>
            <span *ngIf="!formData.get('appointmentDateId')?.valid" class="text-red-500 text-sm mt-2" [hidden]="showValid">
              Please Select Time Appointment!
            </span>
          </div>
        </div>

        <div class="grid col-8 col-offset-2 -mb-3">
          <div class="col-12">
            <p-table [value]="listTime" styleClass="p-datatable-striped">
              <ng-template pTemplate="header">
                <tr>
                  <th>Time</th>
                  <th>Reservation Status</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-booking>
                <tr>
                  <td>{{ booking.time}}</td>
                  <td>
                    <p-tag 
                    [style]="{'background': booking.status === 'Available' ? 'green' : (booking.status === 'Not Available' ? 'gray' : null) }"
                    [value]="booking.status" >
                    </p-tag>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </ng-container>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <label>Other Information</label>
        </div>
        <div class="col-12">
          <textarea rows="3" pInputTextarea class="w-full" formControlName="description">
          </textarea>
        </div>
      </div>

      <div class="grid col-8 col-offset-2 -mb-3">
        <div class="col-12">
          <p-button icon="pi pi-book" label="Booking Now!" class="p-button-sm" styleClass="w-full" (onClick)="booking()"
            [style]="{background : '#3c3c3c', border: 'none'}">
          </p-button>
        </div>
      </div>
    </div>
  </div>
</app-sidebar>